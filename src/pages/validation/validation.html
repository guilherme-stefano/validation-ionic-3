<ion-header>
    <ion-toolbar color="primary">
        <ion-title>
            Sign Up
        </ion-title>
        <button ion-button (click)="prev()">
            <ion-icon slot="start" name="arrow-back"></ion-icon> Prev
        </button>
        <button ion-button (click)="next()">Next <ion-icon slot="end" name="arrow-forward"></ion-icon></button>
    </ion-toolbar>
</ion-header>

<ion-content>

    <ion-slides #signupSlider>

        <ion-slide>
            <p *ngIf="submitAttempt" style="color: #ea6153;">Please fill out all details accurately.</p>

            <ion-list lines="none">

                <form [formGroup]="slideOneForm">

                    <ion-item>
                        <ion-label position="floating">First Name</ion-label>
                        <ion-input formControlName="firstName" type="text"></ion-input>
                    </ion-item>
                    <ion-item *ngIf="!slideOneForm.controls.firstName.valid  && (slideOneForm.controls.firstName.dirty || submitAttempt)">
                        <p>Please enter a valid name.</p>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">Last Name</ion-label>
                        <ion-input formControlName="lastName" type="text"></ion-input>
                    </ion-item>
                    <ion-item *ngIf="!slideOneForm.controls.lastName.valid  && (slideOneForm.controls.lastName.dirty || submitAttempt)">
                        <p>Please enter a valid name.</p>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">Age</ion-label>
                        <ion-input formControlName="age" type="number"></ion-input>
                    </ion-item>
                    <ion-item *ngIf="!slideOneForm.controls.age.valid  && (slideOneForm.controls.age.dirty || submitAttempt)">
                        <p>Please enter a valid age.</p>
                    </ion-item>
                </form>

            </ion-list>
        </ion-slide>

        <ion-slide>
            <ion-list lines="none">

                <form [formGroup]="slideTwoForm">

                    <ion-item>
                        <ion-label position="floating">Username</ion-label>
                        <ion-input formControlName="username" type="text"></ion-input>
                    </ion-item>
                    <ion-item *ngIf="slideTwoForm.controls.username.pending">
                        <p>Checking username...</p>
                    </ion-item>
    
                    <ion-item *ngIf="!slideTwoForm.controls.username.valid && !slideTwoForm.controls.username.pending && (slideTwoForm.controls.username.dirty || submitAttempt)">
                        <p>Sorry, that username can not be used!</p>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">Privacy</ion-label>
                        <ion-select formControlName="privacy">
                            <ion-option value="public" checked="true">Public</ion-option>
                            <ion-option value="friends">Friends Only</ion-option>
                            <ion-option value="private">Private</ion-option>
                        </ion-select>
                    </ion-item>

                    <ion-item>
                        <ion-label position="floating">Bio</ion-label>
                        <ion-textarea formControlName="bio"></ion-textarea>
                    </ion-item>

                </form>

            </ion-list>

            <button ion-button expand="full" color="primary" (click)="save()">Create Account!</button>
        </ion-slide>

    </ion-slides>

</ion-content>